version: '3.8' # Define a versão do Docker Compose

services:
  mailsender:
    image: ruanlopes1350/mailsender:latest
    container_name: mailsender_app
    restart: always # Reinicia o container se ele parar
    ports:
      # Mapeia a porta do seu host para a porta do container (HOST:CONTAINER)
      - "5015:5015"
    environment:
      # Variáveis de ambiente necessárias para a aplicação
      # É recomendado usar um arquivo .env para dados sensíveis
      NODE_ENV: production
      PORT: 5015 # Garante que a porta no container é a mesma exposta
      DB_URL: ${DB_URL} # Pega do arquivo .env
      SENDER_EMAIL: ${SENDER_EMAIL} # Pega do arquivo .env
      SENDER_PASSWORD: ${SENDER_PASSWORD} # Pega do arquivo .env
      MASTER_KEY: ${MASTER_KEY} # Pega do arquivo .env
    # Você pode descomentar a linha abaixo se quiser usar um arquivo .env específico
    # env_file:
    #   - .env.production